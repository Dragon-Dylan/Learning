#include"NEEDED.H"

//Main interface establishment
void Interface(void)
{
	clrscr();
	//Home interface output
	printf("********************************************************************************\n");
	printf("***  [1]News    ***    [2]Notice    ***    [3]Account-Management    [0]Exit  ***\n");
	printf("********************************************************************************\n");
}


//To control the run of the appication
void HomeControl(struct UserNode *u)
{
	int hkey = 9;
	//Read selection
	printf("Please intput your choice: No.");
	//The prevention of violence input
	int numchar;
	while((numchar = getch()) < 48 && (numchar = getch()) >= 57)
	{
		gotoxy(1, 18);
		clreol();
		//Error notification
		{
			sound(1111);
			delay(111);
			nosound();
		}
		printf("\n\t      Please input right choice: No.");
	}
	//Data conversion
	hkey = numchar-48;
	gotoxy(1, 7);
	clreol();
	while(hkey)
	{

		switch(hkey)
		{

			case 1:
				//NewsRead();
				Interface();
				//Read selection
				printf("Please intput your choice: No.");
				//The prevention of violence input
				while((numchar = getch()) < 48 && (numchar = getch()) >= 57)
				{
					gotoxy(1, 18);
					clreol();
					//Error notification
					{
						sound(1111);
						delay(111);
						nosound();
					}
					printf("\n\t      Please input right choice: No.");
				}
				//Data conversion
				hkey = numchar-48;
				gotoxy(1, 7);
				clreol();
				break;
			case 2:
				//Notice();
				Interface();
				//Read selection
				printf("Please intput your choice: No.");
				//The prevention of violence input
				while((numchar = getch()) < 48 && (numchar = getch()) >= 57)
				{
					gotoxy(1, 18);
					clreol();
					//Error notification
					{
						sound(1111);
						delay(111);
						nosound();
					}
					printf("\n\t      Please input right choice: No.");
				}
				//Data conversion
				hkey = numchar-48;
				gotoxy(1, 7);
				clreol();
				break;
			case 3:
				//Judge the identity of tourists
				if(u->identity == -1)
					printf("You're just a visitor. You don't have permission!\n");
				else
				{
					//AccountUpdate();
					Interface();
					//Read selection
					printf("Please intput your choice: No.");
					//The prevention of violence input
					int numchar;
					while((numchar = getch()) < 48 && (numchar = getch()) >= 57)
					{
						gotoxy(1, 18);
						clreol();
						//Error notification
						{
							sound(1111);
							delay(111);
							nosound();
						}
						printf("\n\t      Please input right choice: No.");
					}
					//Data conversion
					hkey = numchar-48;
					gotoxy(1, 7);
					clreol();
				}//User rights
				break;
			case 0:
				return;
			default:
				//Read selection
				printf("Intput right choice again: No.");
				//The prevention of violence input
				while((numchar = getch()) < 48 && (numchar = getch()) >= 57)
				{
					gotoxy(1, 18);
					clreol();
					//Error notification
					{
						sound(1111);
						delay(111);
						nosound();
					}
					printf("\n\t      Please input right choice: No.");
				}
				//Data conversion
				hkey = numchar-48;
				gotoxy(1, 7);
				clreol();
				break;
		}
	}
}

/*
***********************************************
*         Designed by Dylan Simon Su          *
*  Translation comes from Baidu translation.  *
*          Dylan Simon Su copyright.          *
***********************************************
*/
